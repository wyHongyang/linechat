/*!2015-07-29 */
!function(a){var b=a.fn.select=function(d){var f=this,g=a(this);return this.options=a.extend({},b.settings,d),this.each(function(){c.call(f,g,f.options),g.find(".m-select").off("change").on("change",function(b){var c=a(b.target),d={value:c.val(),label:c.find('.jq-option[selected="selected"]').text().trim().toLowerCase()};e.call(f,d,f,f.options)})})};b.settings={isFetching:!1,url:"",selectClass:"jq-select",selectCss:{borderRadius:"4px",minWidth:"160px"},optionClass:"jq-option",currentSelect:"0",onSelect:a.noop};var c=function(b,c){var e=a("<select />",{"class":"m-select "+c.selectClass,css:{"min-width":c.selectCss.minWidth,"border-radius":c.selectCss.borderRadius}}),f=d(c),g="";a.each(f.content,function(a,b){g+=f.currentSelect==b.value?'<option class="m-option '+c.optionClass+'" data-value="'+b.value+'" selected="selected">'+b.label+"</option>":'<option class="m-option '+c.optionClass+'" data-value="'+b.value+'">'+b.label+"</option>"}),e.append(g),b.append(e)},d=function(c){var d=this;b.settings.isFetching=!0,this.options=a.extend({},this.options,c),this.request=a.ajax({url:d.options.url,type:"GET",dataType:"json",success:function(a){return a},error:function(a){return!1},done:function(){b.settings.isFetching=!1}})},e=function(a,b,c){void 0!=a&&c.onSelect.call(b,a)}}(jQuery);